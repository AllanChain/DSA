# KMP 无回溯模式匹配算法上机报告

## 问题理解

实现 KMP 无回溯模式匹配算法，还有什么好说的呢。。

## 设计与实现

定义结构体 `String`，并实现 `find` 查找和 `calcNext` 计算 `next` 数组。

## 编程环境

|Key      |Value       |Version|
|:--------|:-----------|:------|
|System   |WSL Ubuntu  | 19.10 |
|Language |C           |       |
|Compiler |g++         | 9.2.1 |
|Debugger |gdb         | 8.3   |
|Formatter|clang-format| 9.0.0 |
|Editor   |VS Code     | 1.42.1|

## 上机问题与解决

这次很顺利

## 对 KMP 算法的理解

KMP 算法重点就在于利用 `next` 数组和相等条件大大简化了操作复杂度。

`next[i]` 是 `i` 不匹配的时候，所需的下标为 `k` 的进行比较。所以 `next[i]` 管的其实是 `p[0]` 到 `p[i-1]` 个，与 `i` 无关。而 `k` 又正好是前缀后缀匹配的长度。

至于计算 `next` 数组的时候，书本给出的算法中，在 `while` 循环一半的时候改变了 `i` 和 `k` 的值，所以造成了一定的理解困难。`k = next[k]` 可以理解为当这一对前后缀不匹配时，马上跳转到下一对可能的前后缀比较。

整个算法的设计还是相当精妙的，很多细节之处都有道理。并且巧妙地把很多特殊情况都按照正常情况一样处理好。甚至有种满屏代码竟不得动一字的感觉，令人佩服。
